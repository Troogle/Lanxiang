(function(d,e){"object"===typeof exports?module.exports=e():"function"===typeof define&&define.amd?define(["spin"],e):d.Ladda=e(d.Spinner)})(this,function(d){function e(a){if("undefined"===typeof a)console.warn("Ladda button target must be defined.");else{a.querySelector(".ladda-label")||(a.innerHTML='<span class="ladda-label">'+a.innerHTML+"</span>");var b=h(a),c=document.createElement("span");c.className="ladda-spinner";a.appendChild(c);var f,e={start:function(){a.setAttribute("disabled","");a.setAttribute("data-loading",
"");clearTimeout(f);b.spin(c);this.setProgress(0);return this},startAfter:function(a){clearTimeout(f);f=setTimeout(function(){e.start()},a);return this},stop:function(){a.removeAttribute("disabled");a.removeAttribute("data-loading");clearTimeout(f);f=setTimeout(function(){b.stop()},1E3);return this},toggle:function(){this.isLoading()?this.stop():this.start();return this},setProgress:function(b){b=Math.max(Math.min(b,1),0);var c=a.querySelector(".ladda-progress");0===b&&c&&c.parentNode?c.parentNode.removeChild(c):
(c||(c=document.createElement("div"),c.className="ladda-progress",a.appendChild(c)),c.style.width=(b||0)*a.offsetWidth+"px")},enable:function(){this.stop();return this},disable:function(){this.stop();a.setAttribute("disabled","");return this},isLoading:function(){return a.hasAttribute("data-loading")}};g.push(e);return e}}function h(a){var b=a.offsetHeight,c;32<b&&(b*=.8);a.hasAttribute("data-spinner-size")&&(b=parseInt(a.getAttribute("data-spinner-size"),10));a.hasAttribute("data-spinner-color")&&
(c=a.getAttribute("data-spinner-color"));a=.2*b;return new d({color:c||"#fff",lines:12,radius:a,length:.6*a,width:7>a?2:3,zIndex:"auto",top:"auto",left:"auto",className:""})}function k(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}var g=[];return{bind:function(a,b){b=b||{};var c=[];"string"===typeof a?c=k(document.querySelectorAll(a)):"object"===typeof a&&"string"===typeof a.nodeName&&(c=[a]);for(var f=0,d=c.length;f<d;f++)(function(){var a=c[f];if("function"===typeof a.addEventListener){var d=
e(a),g=-1;a.addEventListener("click",function(){d.startAfter(1);"number"===typeof b.timeout&&(clearTimeout(g),g=setTimeout(d.stop,b.timeout));"function"===typeof b.callback&&b.callback.apply(null,[d])},!1)}})()},create:e,stopAll:function(){for(var a=0,b=g.length;a<b;a++)g[a].stop()}}});